<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1,maximum-scale=1, minimum-scale=1">
	<meta name = "format-detection" content = "telephone=no">
	<title>内脏脂肪等级</title>
	<script type="text/javascript">
		document.documentElement.style.fontSize = document.documentElement.clientWidth / 6.4 + 'px';
	</script>
	<link rel="stylesheet" type="text/css" href="css/body_detail_item.css?t=20180713">
</head>
<body>
	<!-- <div class="Menu">
        <ul class="clearboth">
            <li><a href="detail_weight.html">体重</a></li>
            <li><a href="detail_bmi.html">BMI</a></li>
            <li><a href="detail_bodyage.html">身体年龄</a></li>
            <li><a href="detail_bodyfat.html">体脂</a></li>
            <li><a href="detail_sharp.html">体型</a></li>
            <li><a href="detail_muscle.html">肌肉</a></li>
            <li><a href="detail_bone.html">骨量</a></li>
            <li><a href="detail_water.html">水分</a></li>
            <li class="cur"><a href="#">内脏脂肪等级</a></li>
            <li><a href="detail_kcal.html">基础代谢</a></li>
            <li><a href="detail_protein.html">蛋白质</a></li>
            <li><a href="detail_score.html">身体得分</a></li>
        </ul>
    </div> -->
	<div class="banner banner_viscera">
		<div class="content">
			<div class="banner_text">
				<!-- <span class="type">内脏脂肪等级</span><br /> -->
				<div class="circleborder">
					<div><span class="number" id="number"></span>
					<span class="unit">级</span><br /></div>
					
				</div>
				<span class="index"></span>
			</div>
		</div>
	</div>

	<div class='boxlist'>
		<div class="box box-top">
			<div class="ruler ruler-g4">
				<span id="index01"></span>
				<span id="index02"></span>
				<span id="index03"></span>
			</div>
			<div class="lines lines-g4">
				<div class="scale"></div>
				<span class="bg-green"></span>
				<span class="bg-yellow"></span>
				<span class="bg-orange"></span>
				<span class="bg-red"></span>
			</div>
			<div class="text text-g4">
				<span>健康</span>
				<span>警惕</span>
				<span>稍多</span>
				<span>危险</span>
			</div>
			<p class="text02">内脏脂肪等级标准，您内脏脂肪含量比较健康，保持合理的膳食和健康的运动必不可少。</p>
		</div>
		<div class="box box-bottom">
			<div class="title"><img src="images/icon_advice.png"><p>小建议</p></div>
			<div class="list">
				<!-- <img src="images/icon_eat.png"> -->
				<p>饮食建议</p>
			</div>
			<p id="dietaryAdvice"></p>
			<div class="list">
				<!-- <img src="images/icon_exercise.png"> -->
				<p>运动建议</p>
			</div>
			<p id="sportAdvice"></p>
		</div>
		<div class="box">
			<div class="title"><img src="images/icon_standard.png"><p>内脏脂肪参考标准</p></div>
			<p id="definition"></p>
			<p class="standard_table"><img src="images/item_form_viscera.png"></p>
		</div>
	</div>
	
	<script src="../common/js/jquery-1.10.1.min.js"></script>
	<script src="js/main.js"></script>
	<script src="js/body_detail_item.js" type="text/javascript"></script>
	<script src="../../common/js/network.js"></script>
	<script type="text/javascript">
		ajax({
			type: "get",
			url:getQueryString('deviceType')=='blebalance'?"bleBalance/h5/data/body/detail/accredited/visceralFat" :"balance/h5/data/body/detail/accredited/visceralFat",
			data: {
				memberId : getQueryString("memberId"),
				measureId : getQueryString("measureId"),
			},
			success: function(res) {
				if (res.code == 0) {
					setData(res)
				}
			},
			error: function(err) {
				console.log("error")
			}
		})
		
		function setData(data){
			var data = data.data;
			console.log(data);
			var number = parseFloat(data["visceralFat"]);
//			var number = parseFloat("10.5");
			var index01 = data["range"][0];
			var index02 = data["range"][1];
			var index03 = data["range"][2];
			var index_min = 0, index_max = 19.5;
			if(number<index_min) number=index_min;
			if(number>index_max) number=index_max;
			var percent;
			
			// $("#number").html(data["visceralFat"]+" 级");
			$("#number").html(data["visceralFat"]);
			$("#index01").html(index01);
			$("#index02").html(index02);
			$("#index03").html(index03);
			$("#index").html(data["visceralFatType"]);
			$(".text02").html(data["description"]);
			$("#dietaryAdvice").html(data["dietaryAdvice"]);
			$("#sportAdvice").html(data["sportAdvice"]);
			$("#definition").html(data["definition"]);
	
			if(number<index01){
				percent = body.calcPercent(index_min,index01,1,20,number);
				$(".scale").addClass("bg-green").css("left",percent+"%").fadeIn();
				$(".index").html("健康");
			}else if(number<index02){
				percent = body.calcPercent(index01,index02,27,46,number);
				$(".scale").addClass("bg-yellow").css("left",percent+"%").fadeIn();
				$(".index").html("警惕");
			}else if(number<index03){
				percent = body.calcPercent(index02,index03,52,72,number);
				$(".scale").addClass("bg-orange").css("left",percent+"%").fadeIn();
				$(".index").html("稍多");
			}else{
				percent = body.calcPercent(index03,index_max,78,97,number);
				$(".scale").addClass("bg-red").css("left",percent+"%").fadeIn();
				$(".index").html("危险");
			}
		}
		
	</script>
</body>
</html>