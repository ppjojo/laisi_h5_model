<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="initial-scale=1,maximum-scale=1, minimum-scale=1">
	<meta name = "format-detection" content = "telephone=no">
	<title>蛋白质</title>
	<script type="text/javascript">
		document.documentElement.style.fontSize = document.documentElement.clientWidth / 6.4 + 'px';
	</script>
	<link rel="stylesheet" type="text/css" href="css/body_detail_item.css?t=20180713">
</head>
<body>
	<!-- <div class="Menu">
        <ul class="clearboth">
            <li><a href="detail_weight.html">体重</a></li>
            <li><a href="detail_bmi.html">BMI</a></li>
            <li><a href="detail_bodyage.html">身体年龄</a></li>
            <li><a href="detail_bodyfat.html">体脂</a></li>
            <li><a href="detail_sharp.html">体型</a></li>
            <li><a href="detail_muscle.html">肌肉</a></li>
            <li><a href="detail_bone.html">骨量</a></li>
            <li><a href="detail_water.html">水分</a></li>
            <li><a href="detail_viscera.html">内脏脂肪等级</a></li>
            <li><a href="detail_kcal.html">基础代谢</a></li>
            <li class="cur"><a href="#">蛋白质</a></li>
            <li><a href="detail_score.html">身体得分</a></li>
        </ul>
    </div> -->
	<div class="banner banner_protein">
		<div class="content">
			<div class="banner_text">
				<!-- <span class="type">蛋白质</span><br /> -->
				<div class="circleborder">
					<div><span class="number" id="number"></span>
					<span class="unit">%</span><br /></div>
					
				</div>
				<span class="index"></span>
			</div>
		</div>
	</div>

	<div class='boxlist'>
		<div class="box box-top">
			<div class="ruler ruler-g3">
				<span id="index01"></span>
				<span id="index02"></span>
			</div>
			<div class="lines lines-g3">
				<div class="scale"></div>
				<span class="bg-green02"></span>
				<span class="bg-green"></span>
				<span class="bg-yellow"></span>
			</div>
			<div class="text text-g3">
				<span>偏低</span>
				<span>标准</span>
				<span>偏高</span>
			</div>
			<p class="text02"></p>
		</div>
		<div class="box box-bottom">
			<!-- <div class="title"><span class="left"></span><p>一些小建议</p><span class="right"></span></div> -->
			<div class="title"><img src="images/icon_advice.png"><p>小建议</p></div>
			<div class="list">
				<!-- <img src="images/icon_eat.png"> -->
				<p>饮食建议</p>
			</div>
			<p id="dietaryAdvice"></p>
			<div class="list">
				<!-- <img src="images/icon_exercise.png"> -->
				<p>运动建议</p>
			</div>
			<p id="sportAdvice"></p>
		</div>
		<div class="box">
			<div class="title"><img src="images/icon_standard.png"><p>蛋白质参考标准</p></div>
			<p id="definition"></p>
			<p class="standard_table"><img src="images/item_form_protein.png"></p>
		</div>
	</div>
	
	
	<script src="../common/js/jquery-1.10.1.min.js"></script>
	<script src="js/main.js"></script>
	<script src="js/body_detail_item.js" type="text/javascript"></script>
	<script src="../../common/js/network.js"></script>
	<script type="text/javascript">
		ajax({
			type: "get",
			url:getQueryString('deviceType')=='blebalance'? "bleBalance/h5/data/body/detail/accredited/protein":"balance/h5/data/body/detail/accredited/protein",
			data: {
				memberId : getQueryString("memberId"),
				measureId : getQueryString("measureId"),
			},
			success: function(res) {
				if (res.code == 0) {
					setData(res)
				}
			},
			error: function(err) {
				console.log("error")
			}
		})

		
		function setData(data){
			var data = data.data;
			console.log(data);
			var number = parseFloat(data["protein"]);
			var index01 = data["range"][0];
			var index02 = data["range"][1];
			var index_min = index01-4, index_max = index02+4;
			if(number<index_min) number=index_min;
			if(number>index_max) number=index_max;
			var percent;
			
			$("#number").html(data["protein"]);
			$("#index01").html(index01);
			$("#index02").html(index02);
			$("#index").html(data["proteinType"]);
			$(".text02").html(data["description"]);
			$("#dietaryAdvice").html(data["dietaryAdvice"]);
			$("#sportAdvice").html(data["sportAdvice"]);
			$("#definition").html(data["definition"]);

			if(number<index01){
				percent = body.calcPercent(index_min,index01,1,29,number);
				$(".scale").addClass("bg-green02").css("left",percent+"%").fadeIn();
				$(".index").html("偏低");
			}else if(number<index02){
				percent = body.calcPercent(index01,index02,35,63,number);
				$(".scale").addClass("bg-green").css("left",percent+"%").fadeIn();
				$(".index").html("标准");
			}else{
				percent = body.calcPercent(index02,index_max,69,97,number);
				$(".scale").addClass("bg-yellow").css("left",percent+"%").fadeIn();
				$(".index").html("偏高");
			}
		}
	</script>
</body>
</html>